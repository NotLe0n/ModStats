<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Mod Statistics // Mod List</title>
		<link rel="stylesheet" href="/static/css/standart.css" />
		<link rel="stylesheet" href="/static/css/modList.css" />
		<link rel="icon" type="image/png" sizes="any" href="/static/assets/favicon.ico">

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta content="#43B581" data-react-helmet="true" name="theme-color">
		
		<script>
			function changeTarget(event) {
				document.querySelectorAll('.mod-search[type=text]').forEach(x => {
					x.setAttribute('name', event.value)
					x.setAttribute('list', event.value === "mod" ? modlist : "")
				})
				document.querySelectorAll('.input-container select').forEach(x => x.value = event.value)
			}
		</script>
	</head>
	<body>
		<header>
			<h1><span><a href=".">Mod Statistics</a> // </span><wbr><span>Mod List</span></h1>
			<div class="input-container">
				<form action="stats" method="get">
					<select onchange="changeTarget(this)">
						<option>mod</option>
						<option>author</option>
					</select>
					<input name="mod" class="mod-search" type="text" placeholder="Search" list="modlist" />
					<datalist id="modlist">
						{{range .modlist}}
						<option value="{{ .InternalName }}">
						{{end}}
					</datalist>
				</form>
			</div>
		</header>
		<main id="content">
			<table>
				<tbody>
				<tr>
					<th>Rank</th>
					<th>Display Name</th>
					<th>Internal Name</th>
					<th>Downloads Total</th>
					<th>Downloads Today</th>
					<th>Downloads Yesterday</th>
					<th>tModloader Version</th>
				</tr>
				{{range .modlist}}
				<tr>
					<td>{{ .Rank }}</td>
					<td><a href="/stats?mod={{ .InternalName }}">{{ .DisplayName }}</a></td>
					<td><a href="/stats?mod={{ .InternalName }}">{{ .InternalName }}</a></td>
					<td>{{ .DownloadsTotal }}</td>
					<td>{{ .DownloadsToday }}</td>
					<td>{{ .DownloadsYesterday }}</td>
					<td>{{ .TModLoaderVersion }}</td>
				</tr>
				{{end}}
				</tbody>
			</table>
		</main>
	</body>
</html>